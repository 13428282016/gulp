require(["jquery","common/header","common/utils","common/flower","common/invest"],function(t,n,i,e,r){var s=function(){function s(t,n){if(200==t.status){var i=n.target.src,e=i.prev();e.text(parseInt(e.text())+parseInt(n.info.present))}}var a="http://api.star.kankan.com/index_info?jsoncallback=?&str=",o=new e({success:s}),u=new r;this.init=function(){t("#starlist li").on("click","p > a",function(){if(!n.userInfo.logined)return void(t.isFunction(window.login)&&window.login());var i=t(this),e=i.parents("li"),r=e.find("span[userid]"),s=r.attr("userid"),a=r.text().split("ï¼Œ")[0]||"",c=e.find("a > img").attr("src")||"http://placehold.it/218x248",f={src:i,id:s,name:a,portrait:c};i.hasClass("icon-fire")?(o.target=f,o.openDialog()):i.hasClass("icon-money")&&(u.target=f,u.investor(n.userInfo.is_investor))})},this.updateStarInfo=function(){var n=[],e=[];t("#starlist li p span[userid]").each(function(){n.push(t(this).attr("userid")),e.push(t(this))}),t.getJSON(a+n.join("|"),function(n){if(200==n.status){var r;t.each(n.data,function(t,n){r=e[t],n.userid==r.attr("userid")&&(r=r.parents("li"),r.find("a.icon-fire").prev("span").text(i.formatNumber(n.hit)),r.find("a.icon-money").prev("span").text(i.formatNumber(n.invest)))})}})}};setTimeout(function(){var t=new s;t.init(),t.updateStarInfo()},0)});
//# sourceMappingURL=../../maps/js/index/star_list.js.map
//# sourceMappingURL=../../maps/js/index/star_list.js.map
//# sourceMappingURL=../../js/maps/js/index/star_list.js.map