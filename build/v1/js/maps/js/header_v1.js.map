{"version":3,"names":[],"mappings":"","sources":["js/header_v1.js"],"sourcesContent":["require([\"jquery\",\"common/header\",\"common/utils\"],function(n,i,o){function t(){i.addLoginCallback(e),i.addLogoutCallback(e),i.addCheckBackendCallback(a),c.init(),n(\"#signup\").on(\"click\",function(){return r.logined?void(window.location=\"我的主页\"==n(this).text()?u.homepage:u.signup):void(n.isFunction(window.login)&&window.login())})}function e(){var i=n(\"#nav_user_box\"),o=i.find(\"#no_login\"),t=i.find(\"#user_login\"),e=t.find(\"#user_name\");r.logined?(o.hide(),e.html(r.nick_name),t.show()):(t.hide(),e.html(\"\"),o.show())}function a(){r.is_star&&\"undefined\"!=typeof r.star_info.status&&0!=r.star_info.status?n(\"#signup\").text(\"我的主页\"):n(\"#signup\").text(\"我要报名\")}var r=i.userInfo,u={signup:\"http://star.kankan.com/signup.html\",homepage:\"http://i.star.kankan.com/edit\"},c={searchStarByKeyword:function(n){return n=n.replace(/(^\\s*)|(\\s*$)/g,\"\"),n.length?!0:!1},getKeyword:function(){return n(\"input[name=keyword]\").val()},init:function(){var i=this;this.placeHolder(n(\"#searchInput\")),n(\".h_search form\").submit(function(){return i.searchStarByKeyword(i.getKeyword())})},placeHolder:function(i){function o(i){var o=n.data(i[0],\"tip\");o&&o.hide()}function t(n,i){var o=function(){var o=n.val();\"\"==o?i.show():i.hide()};i.click(function(){n.focus()}),n.on(\"input propertychange\",function(){clearTimeout(u),u=setTimeout(o,0)})}var e=\"placeholder\"in document.createElement(\"input\"),a=i.attr(\"placeholder\");if(!e){var r=n(\"<span>\"+a+\"</span>\").css({color:\"#999\",position:\"absolute\",left:\"563px\",top:\"12px\",height:\"16px\",\"line-height\":\"16px\"});i.after(r),n.data(i[0],\"tip\",r),\"\"!=i.val()&&o(i),t(i,r)}var u}};setTimeout(function(){i.autoLogin.init(),i.changeLoginView=e,i.changeUserView=a,t()},0),\"undefined\"==typeof window.kkHeader&&(window.kkHeader=i),window.login=i.login.show,window.logout=i.login.logout});\n//# sourceMappingURL=../maps/js/header_v1.js.map\n//# sourceMappingURL=../maps/js/header_v1.js.map"],"file":"js/header_v1.js","sourceRoot":"/source/"}