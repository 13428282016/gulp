{"version":3,"names":[],"mappings":"","sources":["js/common/utils.js"],"sourcesContent":["define([\"jquery\"],function(n){function e(n,e){return n+Math.round(Math.random()*(e-n))}function t(){var n=window.location.href,e=n.split(\"#\");return n.indexOf(\"?\")>0?window.location=e[0]+\"&rd=\"+this.time():window.location=e[0]+\"?rd=\"+this.time(),!0}function i(){try{var n=new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");return n.getVariable(\"$version\").split(\" \")[1].split(\",\")}catch(e){for(var t=navigator.plugins,i=t.length-1;i>=0;i--)try{if(-1!=t[i].name.indexOf(\"Shockwave Flash\"))return t[i].description.match(/\\d+/g)}catch(e){}}finally{n=null}}function o(e,t){var i=n(\"<div>\");i.load(e,function(){i=n(i.html()),n(document.body).append(i),n.isFunction(t)&&t(i)})}function a(e){var t=n(e).serializeArray(),i={};for(var o in t)i[t[o].name]=t[o].value;return i}function r(){function e(n,e){n.once=e,i.push(n),o||(o=!0,a=setInterval(t,100))}function t(){n.each(i,function(n,e){var t=e.watchFn(),o=e.last;t!==o&&(e.once&&i.slice(n,1),e.listenerFn(t,o)),e.last=t}),0===i.length&&(clearInterval(a),o=!1)}var i=[],o=!1,a=0;this.add=function(n,t){var i={watchFn:n,listenerFn:t||function(){},last:n()};e(i,!1)},this.addOnce=function(n,t){var i={watchFn:n,listenerFn:t||function(){},last:n()};e(i,!0)}}function c(e,t){var i=n(e);return i.data(\"old-text\",i.html()),null!==t&&void 0!==t&&i.html(t),i.prop(\"disabled\",!0).addClass(\"disabled\"),i}function l(e){var t=n(e);return t.prop(\"disabled\",!1).removeClass(\"disabled\").html(t.data(\"old-text\")),t}function s(){this.get=function(n){try{return null==document.cookie.match(new RegExp(\"(^\"+n+\"| \"+n+\")=([^;]*)\"))?\"\":decodeURIComponent(RegExp.$2)}catch(e){return\"\"}},this.del=function(n,e){var t=new Date((new Date).getTime()),e=e?e:-1!=window.location.host.indexOf(\"xunlei.com\")?\"xunlei.com\":\"kankan.com\";document.cookie=n+\"= ; path=/; domain=\"+e+\"; expires=\"+t.toGMTString()},this.set=function(n,e,t,i){var i=i?i:-1!=window.location.host.indexOf(\"xunlei.com\")?\"xunlei.com\":\"kankan.com\";if(arguments.length>2){var o=new Date((new Date).getTime()+36e5*t);document.cookie=n+\"=\"+encodeURIComponent(e)+\"; path=/; domain=\"+i+\"; expires=\"+o.toGMTString()}else document.cookie=n+\"=\"+encodeURIComponent(e)+\"; path=/; domain=\"+i}}function u(e,t,i){if(!n(\"#\"+e).length){n(\"<iframe>\").attr(\"name\",e).attr(\"id\",e).attr(\"width\",0).attr(\"height\",0).attr(\"src\",t).attr(\"scrolling\",\"no\").css(\"display\",\"none\").on(\"load\",i).appendTo(\"body\")}}function d(n){return n>=1e4?n%1e4?(n/1e4).toFixed(1)+\"万\":n/1e4+\"万\":n}function h(n,e,t,i,o){window.frames[n].sendJSON.creatReq(e,t,i||function(){},o)}function m(e,t){return n(e).children(\"[value=\"+t+\"]\").text()}function f(n){var e=0;return n.name&&n.name.trim().length&&(e+=10),n.sex&&(e+=10),parseInt(n.year)&&parseInt(n.month)&&parseInt(n.day)&&(e+=10),n.cover_folder&&n.cover_folder.trim().length&&n.cover_name&&n.cover_name.trim().length&&(e+=20),n.nationality&&(e+=5),n.province&&n.province.trim().length&&n.city&&n.city.trim().length&&(e+=5),n.college&&n.college.trim().length&&(e+=5),n.profession&&n.profession.trim().length&&(e+=5),n.stature&&n.stature.trim().length&&(e+=10),n.weight&&(e+=10),n.style&&(e+=5),n.speciality&&n.speciality.trim().length&&(e+=5),e}function p(n){var e=new Image(1,1);e.onerror=function(){},e.src=n}function g(){for(var n=arguments,e=\"?u=kkstar\",t=0,i=n.length;i>t;t++)e+=\"&u\"+(t+1)+\"=\"+(\"undefined\"!=typeof n[t]?n[t]:\"\");e+=\"&rd=\"+(new Date).getTime();var o=\"http://kkpgv2.xunlei.com/\"+e;p(o)}function v(){for(var n=arguments,e=[],t=0,i=n.length;i>t;t++)e.push(n[t]);e.push(w.get(\"userid\")),e.push(window.location.href),e.push(w.get(\"KANKANWEBUID\"));var o=this;return setTimeout(function(){g.apply(o,e)},0)}var w=new s;return{formatNumber:d,random:e,pageRefresh:t,flashVersion:i,loadHtml:o,serializeObject:a,createBK4KKIfr:u,ajaxBK4KK:h,watch:new r,cookie:w,enableBtn:l,disableBtn:c,calcIntegrity:f,getSelectText:m,moneyFormat:d,sendStat:p,sendKkpgv:g,sendKkpgvC:v}});\n//# sourceMappingURL=../../maps/js/common/utils.js.map\n//# sourceMappingURL=../../maps/js/common/utils.js.map"],"file":"js/common/utils.js","sourceRoot":"/source/"}